<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Documentation Review Agenda</title>
<meta name="author" content="Scimax VSCode" />
<style>
.org-content { max-width: 800px; margin: 0 auto; padding: 2rem; font-family: system-ui, sans-serif; line-height: 1.6; }
.org-section { margin-bottom: 2rem; }
.org-todo { font-weight: bold; padding: 0.2em 0.5em; border-radius: 3px; }
.org-todo.org-todo { background: #ff6b6b; color: white; }
.org-todo.org-done { background: #51cf66; color: white; }
.org-priority { color: #e67700; font-weight: bold; }
.org-tags { float: right; font-size: 0.8em; }
.org-tag { background: #e9ecef; padding: 0.2em 0.5em; border-radius: 3px; margin-left: 0.3em; }
.org-timestamp { font-family: monospace; background: #f1f3f5; padding: 0.1em 0.3em; border-radius: 3px; }
.org-src-container { margin: 1rem 0; }
.src { background: #f8f9fa; padding: 1rem; border-radius: 4px; overflow-x: auto; }
pre.example { background: #fff3bf; padding: 1rem; border-radius: 4px; }
blockquote { border-left: 4px solid #ced4da; margin: 1rem 0; padding-left: 1rem; color: #495057; }
.org-center { text-align: center; }
.verse { white-space: pre-line; font-style: italic; }
.org-table { border-collapse: collapse; margin: 1rem 0; }
.org-table th, .org-table td { border: 1px solid #dee2e6; padding: 0.5rem; }
.org-table th { background: #f8f9fa; }
.org-footnote-ref { font-size: 0.8em; }
.org-footnotes { border-top: 1px solid #dee2e6; margin-top: 2rem; padding-top: 1rem; font-size: 0.9em; }
.org-underline { text-decoration: underline; }
.org-statistics-cookie { font-family: monospace; }
.org-toc { background: #f8f9fa; padding: 1rem; border-radius: 4px; margin-bottom: 2rem; }
.org-toc ul { list-style: none; padding-left: 1rem; }
.section-number { color: #868e96; margin-right: 0.5em; }
.admonition { padding: 1rem; margin: 1rem 0; border-radius: 4px; border-left: 4px solid; }
.admonition.org-warning { background: #fff5f5; border-color: #fa5252; }
.admonition.org-note { background: #e7f5ff; border-color: #339af0; }
.admonition.org-tip { background: #ebfbee; border-color: #40c057; }
.admonition.org-important { background: #fff9db; border-color: #fab005; }
</style>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body>
<main class="org-content">
<header id="title-block">
<h1 class="title">Documentation Review Agenda</h1>
<p class="author">Scimax VSCode</p>
</header>
<div class="org-preamble"><p>This file generates a dynamic agenda of documentation headings that need review.
Headings marked with ‚ö†Ô∏è are new and need inspection before being marked ‚úÖ.</p>
</div>
<div id="org-generate-review-agenda" class="org-section org-level-1">
<h1>Generate Review Agenda</h1>
<p>Run this block (C-c C-c) to generate the current review agenda from docs/*.org files.</p>

<div class="org-src-container">
<pre class="src src-typescript"><code class="language-typescript">import * as fs from &#39;fs&#39;;
import * as path from &#39;path&#39;;
import { org } from &#39;../src/parser/orgModify&#39;;

// Get docs directory
const docsDir = &#39;/Users/jkitchin/Dropbox/emacs/projects/scimax_vscode/docs&#39;;

// Custom TODO keywords used in documentation files
const parserConfig = {
    todoKeywords: [&#39;‚ö†Ô∏è&#39;, &#39;üëÄ&#39;],  // In-progress states
    doneKeywords: [&#39;‚úÖ&#39;]          // Done state
};

// Collect all items needing review, grouped by file
const itemsByFile = new Map&lt;string, Array&lt;{level: number; title: string; line: number}&gt;&gt;();

const orgFiles = fs.readdirSync(docsDir)
    .filter(f =&gt; f.endsWith(&#39;.org&#39;) &amp;&amp; f !== &#39;review-agenda.org&#39;)
    .sort();

for (const filename of orgFiles) {
    const filePath = path.join(docsDir, filename);
    const doc = org.parseFile(filePath, parserConfig);

    // Query all headlines with ‚ö†Ô∏è TODO keyword (needs review)
    const warnings = org.filterHeadlines(doc, h =&gt;
        h.properties.todoKeyword === &#39;‚ö†Ô∏è&#39;
    );

    if (warnings.length &gt; 0) {
        itemsByFile.set(filename, warnings.map(h =&gt; ({
            level: h.properties.level,
            title: h.properties.rawValue,
            line: h.location?.start.line ?? 0
        })));
    }
}

// Output org-formatted agenda
const total = Array.from(itemsByFile.values()).reduce((sum, items) =&gt; sum + items.length, 0);
console.log(`* Review Agenda (${total} items)`);
console.log();

if (itemsByFile.size === 0) {
    console.log(&#39;No items marked with ‚ö†Ô∏è found. All documentation reviewed!&#39;);
} else {
    for (const [filename, items] of itemsByFile) {
        console.log(`** [[file:${filename}][${filename}]] (${items.length} items)`);
        for (const item of items) {
            const link = `[[file:${filename}::${item.line}][${item.title}]]`;
            console.log(`${&#39;*&#39;.repeat(item.level + 2)} ‚ö†Ô∏è ${link}`);
        }
        console.log();
    }
}</code></pre>
</div>


</div>
<div id="org-current-review-status" class="org-section org-level-1">
<h1>Current Review Status</h1>
<!-- Unknown element type: property-drawer -->
<p>The results from running the above block will appear here after execution.
Items link directly to the source file and line number for quick navigation.</p>

<div id="org-workflow" class="org-section org-level-2">
<h2>Workflow</h2>
<ol>
<li><p>Run the source block above with <code class="verbatim">C-c C-c</code></p>
</li>
<li><p>Click on any item link to jump to that heading</p>
</li>
<li><p>Review the content</p>
</li>
<li><p>Change the heading&#39;s TODO state from ‚ö†Ô∏è to ‚úÖ when satisfied</p>
</li>
<li><p>Re-run the block to update the agenda</p>
</li>
</ol>

</div>
<div id="org-legend" class="org-section org-level-2">
<h2>Legend</h2>
<table class="org-table">
<thead>
<tr><th>State</th><th>Meaning</th></tr>
</thead>
<tbody>
<tr><td>‚ö†Ô∏è</td><td>New heading, needs review</td></tr>
<tr><td>üëÄ</td><td>Changed heading, needs review</td></tr>
<tr><td>‚úÖ</td><td>Reviewed and approved</td></tr>
</tbody>
</table>

</div>
</div>
</main>
</body>
</html>