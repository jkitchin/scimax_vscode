<!DOCTYPE html>
<html lang="en" data-theme="auto">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Image Overlays</title>
    <link rel="stylesheet" href="./_static/book-theme.css">
    
    <style>:root { --primary-color: #0d6efd; }</style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
</head>
<body>
    <header class="site-header">
<div class="header-content">
<div class="header-left">

        <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle navigation">
            <span class="hamburger-icon">
                <span></span>
                <span></span>
                <span></span>
            </span>
        </button>
    

            <a href="./index.html" class="header-logo">
                <img src="./_static/logo.svg" alt="Logo" />
            </a>
        

            <a href="./index.html" class="header-title">
                Scimax VS Code
            </a>
        
</div>
<div class="header-right">
<nav class="header-nav">
<ul class="nav-links">

                <li>
                    <a href="https://github.com/jkitchin/scimax-vscode" target="_blank" rel="noopener">
                        GitHub<span class="external-icon">&#8599;</span>
                    </a>
                </li>
            

                <li>
                    <a href="https://marketplace.visualstudio.com/items?itemName=jkitchin.scimax-vscode" target="_blank" rel="noopener">
                        VS Code Marketplace<span class="external-icon">&#8599;</span>
                    </a>
                </li>
            
</ul>
</nav>

        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode" title="Toggle dark mode">
            <span class="theme-icon light-icon">
                <!-- Sun icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
            </span>
            <span class="theme-icon dark-icon">
                <!-- Moon icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </span>
        </button>
    
</div>
</div>
</header>

    <div class="book-container">
        
        <aside class="sidebar-left" id="sidebar-left">
            
<div class="search-box">
    <input type="search" id="search-input" placeholder="Search..." aria-label="Search">
    <div id="search-results" class="search-results"></div>
</div>

<nav class="site-nav">

            <div class="nav-entry nav-root ">
                <a href="./00-index.html">Home</a>
            </div>
        

        <div class="nav-part">
            <button class="nav-part-toggle" aria-expanded="true">
                <span class="toggle-icon">&#9660;</span>
                <span class="part-caption">Getting Started</span>
            </button>
            <ul class="nav-list part-chapters">
    
<li class="nav-item level-0  ">
<a href="./01-getting-started.html" class="nav-link">01-getting-started</a>
</li>
<li class="nav-item level-0  ">
<a href="./26-configuration.html" class="nav-link">26-configuration</a>
</li>
<li class="nav-item level-0  ">
<a href="./24-keybindings.html" class="nav-link">24-keybindings</a>
</li>
<li class="nav-item level-0  ">
<a href="./25-commands.html" class="nav-link">25-commands</a>
</li>
</ul></div>

        <div class="nav-part">
            <button class="nav-part-toggle" aria-expanded="true">
                <span class="toggle-icon">&#9660;</span>
                <span class="part-caption">Document Editing</span>
            </button>
            <ul class="nav-list part-chapters">
    
<li class="nav-item level-0  ">
<a href="./02-document-structure.html" class="nav-link">02-document-structure</a>
</li>
<li class="nav-item level-0  ">
<a href="./21-navigation.html" class="nav-link">21-navigation</a>
</li>
<li class="nav-item level-0  ">
<a href="./23-speed-commands.html" class="nav-link">23-speed-commands</a>
</li>
<li class="nav-item level-0  ">
<a href="./05-links.html" class="nav-link">05-links</a>
</li>
<li class="nav-item level-0  ">
<a href="./04-tables.html" class="nav-link">04-tables</a>
</li>
</ul></div>

        <div class="nav-part">
            <button class="nav-part-toggle" aria-expanded="true">
                <span class="toggle-icon">&#9660;</span>
                <span class="part-caption">Task Management</span>
            </button>
            <ul class="nav-list part-chapters">
    
<li class="nav-item level-0  ">
<a href="./03-todo-items.html" class="nav-link">03-todo-items</a>
</li>
<li class="nav-item level-0  ">
<a href="./13-agenda.html" class="nav-link">13-agenda</a>
</li>
<li class="nav-item level-0  ">
<a href="./06-timestamps.html" class="nav-link">06-timestamps</a>
</li>
<li class="nav-item level-0  ">
<a href="./15-capture.html" class="nav-link">15-capture</a>
</li>
</ul></div>

        <div class="nav-part">
            <button class="nav-part-toggle" aria-expanded="true">
                <span class="toggle-icon">&#9660;</span>
                <span class="part-caption">Code &amp; Execution</span>
            </button>
            <ul class="nav-list part-chapters">
    
<li class="nav-item level-0  ">
<a href="./07-source-blocks.html" class="nav-link">07-source-blocks</a>
</li>
<li class="nav-item level-0  ">
<a href="./08-supported-languages.html" class="nav-link">08-supported-languages</a>
</li>
<li class="nav-item level-0  ">
<a href="./09-jupyter.html" class="nav-link">09-jupyter</a>
</li>
</ul></div>

        <div class="nav-part">
            <button class="nav-part-toggle" aria-expanded="true">
                <span class="toggle-icon">&#9660;</span>
                <span class="part-caption">Export &amp; Publishing</span>
            </button>
            <ul class="nav-list part-chapters">
    
<li class="nav-item level-0  ">
<a href="./10-export.html" class="nav-link">10-export</a>
</li>
<li class="nav-item level-0  ">
<a href="./publishing.html" class="nav-link">publishing</a>
</li>
<li class="nav-item level-0  ">
<a href="./11-latex-preview.html" class="nav-link">11-latex-preview</a>
</li>
<li class="nav-item level-0 active ">
<a href="./12-image-overlays.html" class="nav-link">12-image-overlays</a>
</li>
</ul></div>

        <div class="nav-part">
            <button class="nav-part-toggle" aria-expanded="true">
                <span class="toggle-icon">&#9660;</span>
                <span class="part-caption">Advanced Features</span>
            </button>
            <ul class="nav-list part-chapters">
    
<li class="nav-item level-0  ">
<a href="./18-database-search.html" class="nav-link">18-database-search</a>
</li>
<li class="nav-item level-0  ">
<a href="./19-references.html" class="nav-link">19-references</a>
</li>
<li class="nav-item level-0  ">
<a href="./14-journal.html" class="nav-link">14-journal</a>
</li>
<li class="nav-item level-0  ">
<a href="./16-notebook.html" class="nav-link">16-notebook</a>
</li>
<li class="nav-item level-0  ">
<a href="./17-projectile.html" class="nav-link">17-projectile</a>
</li>
<li class="nav-item level-0  ">
<a href="./22-hydra-menus.html" class="nav-link">22-hydra-menus</a>
</li>
<li class="nav-item level-0  ">
<a href="./20-editmarks.html" class="nav-link">20-editmarks</a>
</li>
</ul></div>

        <div class="nav-part">
            <button class="nav-part-toggle" aria-expanded="true">
                <span class="toggle-icon">&#9660;</span>
                <span class="part-caption">Reference</span>
            </button>
            <ul class="nav-list part-chapters">
    
<li class="nav-item level-0  ">
<a href="./27-org-api.html" class="nav-link">27-org-api</a>
</li>
<li class="nav-item level-0  ">
<a href="./28-non-standard-features.html" class="nav-link">28-non-standard-features</a>
</li>
</ul></div>
</nav>
        </aside>
        

        <main class="content" id="main-content">
            <article class="page-content">
                <div id="org-introduction" class="org-section org-level-1">
<h1>✅ Introduction</h1>
<p>CLOSED: [2026-01-15 Thu 14:06]</p>

<p>Image overlays provide inline image display functionality in org-mode files, similar to Emacs org-mode&#39;s image display feature. When enabled, image links are rendered as thumbnails directly in the editor, allowing you to preview images without opening them separately.</p>

<p>This feature enhances the visual experience of working with org documents that contain images, such as:</p>

<ul>
<li><p>Scientific notebooks with plots and diagrams</p>
</li>
<li><p>Documentation with screenshots and illustrations</p>
</li>
<li><p>Journal entries with photos</p>
</li>
<li><p>Results from source block executions (especially Jupyter)</p>
</li>
</ul>

<div id="org-how-image-overlays-work" class="org-section org-level-2">
<h2>✅ How Image Overlays Work</h2>
<p>CLOSED: [2026-01-15 Thu 14:07]</p>

<p>Due to VS Code&#39;s limitations compared to Emacs overlays, the extension uses <strong>Hover Previews</strong> - Full-size image preview when hovering over image links</p>

<p>Thumbnails are automatically generated and cached for performance, using ImageMagick or native macOS tools when available.</p>

</div>
</div>
<div id="org-supported-image-formats" class="org-section org-level-1">
<h1>✅ Supported Image Formats</h1>
<p>CLOSED: [2026-01-15 Thu 14:07]</p>

<p>The image overlay system supports the following image formats:</p>

<table class="org-table">
<thead>
<tr><th>Format</th><th>Extension(s)</th><th>Notes</th></tr>
</thead>
<tbody>
<tr><td>PNG</td><td>.png</td><td>Fully supported</td></tr>
<tr><td>JPEG</td><td>.jpg, .jpeg</td><td>Fully supported</td></tr>
<tr><td>GIF</td><td>.gif</td><td>Fully supported (static frames)</td></tr>
<tr><td>SVG</td><td>.svg</td><td>Scalable vector graphics</td></tr>
<tr><td>WebP</td><td>.webp</td><td>Modern web format</td></tr>
<tr><td>BMP</td><td>.bmp</td><td>Bitmap images</td></tr>
<tr><td>TIFF</td><td>.tiff, .tif</td><td>Tagged image format</td></tr>
<tr><td>ICO</td><td>.ico</td><td>Icon files</td></tr>
</tbody>
</table>

</div>
<div id="org-image-link-syntax" class="org-section org-level-1">
<h1>✅ Image Link Syntax</h1>
<p>CLOSED: [2026-01-15 Thu 14:07]</p>

<div id="org-basic-image-links" class="org-section org-level-2">
<h2>✅ Basic Image Links</h2>
<p>CLOSED: [2026-01-15 Thu 14:07]</p>

<p>The simplest way to include an image is with a basic link:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org">[[./plot.png]]</code></pre>
</div>

<p>This displays the image inline and can be clicked to open.</p>

</div>
<div id="org-file-protocol-links" class="org-section org-level-2">
<h2>✅ File Protocol Links</h2>
<p>CLOSED: [2026-01-15 Thu 14:08]</p>

<p>You can explicitly use the file: protocol:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org">[[file:./plot.png]]</code></pre>
</div>

<p>Both formats work identically - the file: prefix is optional for local files.</p>

</div>
<div id="org-links-with-descriptions" class="org-section org-level-2">
<h2>⚠️ Links with Descriptions</h2>
<p>Add descriptive text that appears as a clickable link:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org">[[./path/to/image.png][My beautiful diagram]]
[[file:./screenshots/demo.png][Demo Screenshot]]</code></pre>
</div>

<p>The description text is shown in the editor, while the image overlay appears in the gutter or inline.</p>

</div>
<div id="org-absolute-vs-relative-paths" class="org-section org-level-2">
<h2>⚠️ Absolute vs Relative Paths</h2>
<p>Both absolute and relative paths are supported:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org"># Relative to current file
[[./images/figure1.png]]
[[../shared/logo.png]]

# Absolute paths
[[file:/home/user/documents/image.png]]
[[file:~/Pictures/photo.jpg]]</code></pre>
</div>

<p>The ~ (tilde) is expanded to the home directory on Unix-like systems.</p>

</div>
<div id="org-remote-images" class="org-section org-level-2">
<h2>⚠️ Remote Images</h2>
<p>Remote image URLs are <strong>not</strong> displayed as overlays but are still valid links:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org">[[https://example.com/image.png]]
[[http://server.com/photo.jpg]]</code></pre>
</div>

<p>These links work for navigation but won&#39;t show thumbnails in the editor.</p>

</div>
</div>
<div id="org-image-sizing-and-attributes" class="org-section org-level-1">
<h1>⚠️ Image Sizing and Attributes</h1>
<div id="org-attr-org-keyword" class="org-section org-level-2">
<h2>⚠️ ATTR_ORG Keyword</h2>
<p>Control how images are displayed using the #+ATTR_ORG: keyword above the image link:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org">#+ATTR_ORG: :width 400
[[./diagram.png]]</code></pre>
</div>

</div>
<div id="org-supported-attributes" class="org-section org-level-2">
<h2>⚠️ Supported Attributes</h2>
<table class="org-table">
<thead>
<tr><th>Attribute</th><th>Purpose</th><th>Example</th></tr>
</thead>
<tbody>
<tr><td>:width</td><td>Image width (export)</td><td>:width 400</td></tr>
<tr><td>:height</td><td>Image height (export)</td><td>:height 300</td></tr>
<tr><td>:scale</td><td>Scale factor (export)</td><td>:scale 0.5</td></tr>
<tr><td>:align</td><td>Alignment (export)</td><td>:align center</td></tr>
<tr><td>:alt</td><td>Alt text (export)</td><td>:alt &quot;Description&quot;</td></tr>
</tbody>
</table>

</div>
<div id="org-export-specific-attributes" class="org-section org-level-2">
<h2>⚠️ Export-Specific Attributes</h2>
<p>For LaTeX and HTML export, use backend-specific attributes:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org">#+ATTR_LATEX: :width 0.8\textwidth :placement [htbp]
#+ATTR_HTML: :width 600px :class figure
[[file:./architecture.png]]</code></pre>
</div>

<p>See <a href="10-export.html">Export Documentation</a> for more details on export attributes.</p>

</div>
<div id="org-adding-captions" class="org-section org-level-2">
<h2>⚠️ Adding Captions</h2>
<p>Add captions that appear in exports:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org">#+CAPTION: System Architecture Diagram
#+NAME: fig:architecture
[[file:./architecture.png]]</code></pre>
</div>

</div>
</div>
<div id="org-enabling-and-disabling-image-display" class="org-section org-level-1">
<h1>⚠️ Enabling and Disabling Image Display</h1>
<div id="org-global-toggle" class="org-section org-level-2">
<h2>⚠️ Global Toggle</h2>
<p>Toggle image overlays for all org files:</p>

<ul>
<li><p><strong>Command:</strong> Scimax: Toggle Image Overlays</p>
</li>
<li><p><strong>Command ID:</strong> scimax.imageOverlays.toggle</p>
</li>
</ul>

<p>Use the command palette (C-S-P / s-S-P) and search for &quot;Toggle Image Overlays&quot;.</p>

</div>
<div id="org-per-file-toggle" class="org-section org-level-2">
<h2>⚠️ Per-File Toggle</h2>
<p>Toggle image overlays for the current file only:</p>

<ul>
<li><p><strong>Command:</strong> Scimax: Toggle Image Overlays for Current File</p>
</li>
<li><p><strong>Command ID:</strong> scimax.imageOverlays.toggleCurrentFile</p>
</li>
</ul>

<p>This is useful when you want overlays disabled for one specific large document but enabled globally.</p>

</div>
<div id="org-via-configuration" class="org-section org-level-2">
<h2>⚠️ Via Configuration</h2>
<p>Permanently enable or disable in your settings.json:</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.enabled&quot;: true
}</code></pre>
</div>

<p>Set to false to disable by default.</p>

</div>
</div>
<div id="org-configuration-settings" class="org-section org-level-1">
<h1>⚠️ Configuration Settings</h1>
<div id="org-scimax-imageoverlays-enabled" class="org-section org-level-2">
<h2>⚠️ scimax.imageOverlays.enabled</h2>
<p>Enable or disable inline image thumbnails globally.</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.enabled&quot;: true
}</code></pre>
</div>

</div>
<div id="org-scimax-imageoverlays-maxwidth" class="org-section org-level-2">
<h2>⚠️ scimax.imageOverlays.maxWidth</h2>
<p>Maximum width in pixels for thumbnail icons. Thumbnails are scaled down to fit within these dimensions while maintaining aspect ratio.</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.maxWidth&quot;: 128
}</code></pre>
</div>

</div>
<div id="org-scimax-imageoverlays-maxheight" class="org-section org-level-2">
<h2>⚠️ scimax.imageOverlays.maxHeight</h2>
<p>Maximum height in pixels for thumbnail icons.</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.maxHeight&quot;: 128
}</code></pre>
</div>

</div>
<div id="org-scimax-imageoverlays-rendermode" class="org-section org-level-2">
<h2>⚠️ scimax.imageOverlays.renderMode</h2>
<p>Controls where image thumbnails are displayed:</p>

<ul>
<li><p>gutter - Show thumbnail in the editor gutter (line margin) - <strong>recommended</strong></p>
</li>
<li><p>after - Show emoji and dimensions inline after the link text</p>
</li>
<li><p>both - Show both gutter thumbnail and inline decoration</p>
</li>
</ul>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.renderMode&quot;: &quot;gutter&quot;
}</code></pre>
</div>

<ul>
<li><p>Use gutter for a clean, unobtrusive experience</p>
</li>
<li><p>Use after if you prefer inline indicators</p>
</li>
<li><p>Use both for maximum visibility</p>
</li>
</ul>

</div>
<div id="org-scimax-imageoverlays-onlywhencursornotinlink" class="org-section org-level-2">
<h2>⚠️ scimax.imageOverlays.onlyWhenCursorNotInLink</h2>
<p>Hide the overlay when your cursor is inside the image link. This prevents the thumbnail from obscuring the link text you&#39;re editing.</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.onlyWhenCursorNotInLink&quot;: true
}</code></pre>
</div>

<p>Set to false to always show overlays, even when editing.</p>

</div>
<div id="org-scimax-imageoverlays-excludepatterns" class="org-section org-level-2">
<h2>⚠️ scimax.imageOverlays.excludePatterns</h2>
<p>Regex patterns for image paths to exclude from overlay display. Useful for hiding certain directories or file patterns.</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.excludePatterns&quot;: [
    &quot;\\.tmp/&quot;,
    &quot;/archive/&quot;,
    &quot;draft-.*\\.png&quot;
  ]
}</code></pre>
</div>

<p>Examples:</p>

<ul>
<li><p>&quot;\\.tmp/&quot; - Exclude images in .tmp directories</p>
</li>
<li><p>&quot;^http&quot; - Exclude remote URLs (already excluded by default)</p>
</li>
<li><p>&quot;screenshot-.*&quot; - Exclude files starting with &quot;screenshot-&quot;</p>
</li>
</ul>

</div>
<div id="org-scimax-imageoverlays-maxoverlaysperdocument" class="org-section org-level-2">
<h2>⚠️ scimax.imageOverlays.maxOverlaysPerDocument</h2>
<p>Maximum number of image overlays to display per document. This prevents performance issues in documents with hundreds of images.</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.maxOverlaysPerDocument&quot;: 500
}</code></pre>
</div>

<p>If your document exceeds this limit, you&#39;ll see a warning message.</p>

</div>
<div id="org-scimax-imageoverlays-showdimensions" class="org-section org-level-2">
<h2>⚠️ scimax.imageOverlays.showDimensions</h2>
<p>When using after or both render modes, show image dimensions (e.g., &quot;800x600&quot;) in the inline decoration.</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.showDimensions&quot;: true
}</code></pre>
</div>

</div>
<div id="org-scimax-imageoverlays-cacheenabled" class="org-section org-level-2">
<h2>⚠️ scimax.imageOverlays.cacheEnabled</h2>
<p>Enable thumbnail caching for faster loading. Thumbnails are stored in the extension&#39;s global storage directory.</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.cacheEnabled&quot;: true
}</code></pre>
</div>

<p>Set to false to disable caching (may impact performance).</p>

</div>
</div>
<div id="org-images-from-source-block-results" class="org-section org-level-1">
<h1>⚠️ Images from Source Block Results</h1>
<div id="org-automatic-image-display" class="org-section org-level-2">
<h2>⚠️ Automatic Image Display</h2>
<p>When source blocks produce image output, the results are automatically displayed as overlays:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org">,#+BEGIN_SRC python :results file
import matplotlib.pyplot as plt
import numpy as np

x = np.linspace(0, 10, 100)
y = np.sin(x)

plt.plot(x, y)
plt.savefig(&#39;plot.png&#39;)
&#39;plot.png&#39;
,#+END_SRC

,#+RESULTS:
[[file:plot.png]]</code></pre>
</div>

<p>The resulting <img src="plot.png" alt="" /> link automatically shows as an overlay.</p>

</div>
<div id="org-jupyter-kernel-output" class="org-section org-level-2">
<h2>⚠️ Jupyter Kernel Output</h2>
<p>Jupyter kernels automatically save image output to the .ob-jupyter/ directory:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org">,#+BEGIN_SRC jupyter-python :session py
import matplotlib.pyplot as plt
import numpy as np

plt.plot([1, 2, 3, 4], [1, 4, 9, 16])
plt.show()
,#+END_SRC

,#+RESULTS:
[[file:.ob-jupyter/output-1705171200000-0.png]]</code></pre>
</div>

<p>These images are automatically displayed as overlays when image overlays are enabled.</p>

<p>See <a href="09-jupyter.html">Jupyter Documentation</a> for more details on Jupyter integration.</p>

</div>
<div id="org-r-and-other-languages" class="org-section org-level-2">
<h2>⚠️ R and Other Languages</h2>
<p>R, Julia, and other languages that produce image files work similarly:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org">,#+BEGIN_SRC R :results file graphics :file myplot.png
plot(1:10, (1:10)^2)
,#+END_SRC

,#+RESULTS:
[[file:myplot.png]]</code></pre>
</div>

</div>
</div>
<div id="org-available-commands" class="org-section org-level-1">
<h1>⚠️ Available Commands</h1>
<div id="org-scimax-toggle-image-overlays" class="org-section org-level-2">
<h2>⚠️ Scimax: Toggle Image Overlays</h2>
<p>Toggle image overlays globally for all org files. When disabled, no thumbnails are shown but links remain functional.</p>

</div>
<div id="org-scimax-toggle-image-overlays-for-current-file" class="org-section org-level-2">
<h2>⚠️ Scimax: Toggle Image Overlays for Current File</h2>
<p>Toggle image overlays for the currently active org file only. Useful for temporarily hiding overlays in specific documents.</p>

</div>
<div id="org-scimax-refresh-image-overlays" class="org-section org-level-2">
<h2>⚠️ Scimax: Refresh Image Overlays</h2>
<p>Manually refresh all image overlays in visible editors. This can be useful if:</p>

<ul>
<li><p>You&#39;ve modified image files externally</p>
</li>
<li><p>Overlays aren&#39;t updating correctly</p>
</li>
<li><p>You&#39;ve changed configuration settings</p>
</li>
</ul>

</div>
<div id="org-scimax-clear-image-overlay-cache" class="org-section org-level-2">
<h2>⚠️ Scimax: Clear Image Overlay Cache</h2>
<p>Clear the thumbnail cache. This will:</p>

<ul>
<li><p>Delete all cached thumbnails</p>
</li>
<li><p>Free up disk space</p>
</li>
<li><p>Force thumbnails to be regenerated on next display</p>
</li>
</ul>

<p>Useful if thumbnails are corrupted or you want to reclaim space.</p>

</div>
<div id="org-scimax-show-image-overlay-cache-statistics" class="org-section org-level-2">
<h2>⚠️ Scimax: Show Image Overlay Cache Statistics</h2>
<p>Display information about the thumbnail cache:</p>

<ul>
<li><p>Number of cached thumbnails</p>
</li>
<li><p>Total cache size in KB</p>
</li>
</ul>

<p>Useful for monitoring cache usage.</p>

</div>
</div>
<div id="org-troubleshooting-image-display" class="org-section org-level-1">
<h1>⚠️ Troubleshooting Image Display</h1>
<div id="org-images-not-showing" class="org-section org-level-2">
<h2>⚠️ Images Not Showing</h2>
<p>If image overlays aren&#39;t displaying:</p>

<ol>
<li><p><strong>Check if overlays are enabled:</strong></p>
</li>
<li><p><strong>Verify the image file exists:</strong></p>
</li>
<li><p><strong>Check the file extension:</strong></p>
</li>
<li><p><strong>Try refreshing:</strong></p>
</li>
<li><p><strong>Check exclude patterns:</strong></p>
</li>
</ol>

</div>
<div id="org-overlays-disappear-when-editing" class="org-section org-level-2">
<h2>⚠️ Overlays Disappear When Editing</h2>
<p>This is <strong>normal behavior</strong> when scimax.imageOverlays.onlyWhenCursorNotInLink is true (default). The overlay hides when your cursor is inside the link to prevent obscuring the text you&#39;re editing.</p>

<p>To always show overlays:</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.onlyWhenCursorNotInLink&quot;: false
}</code></pre>
</div>

</div>
<div id="org-performance-issues" class="org-section org-level-2">
<h2>⚠️ Performance Issues</h2>
<p>If you experience slow performance:</p>

<ol>
<li><p><strong>Reduce the overlay limit:</strong></p>
</li>
<li><p><strong>Reduce thumbnail size:</strong></p>
</li>
<li><p><strong>Use gutter mode only:</strong></p>
</li>
<li><p><strong>Disable overlays for specific files:</strong></p>
</li>
</ol>

</div>
<div id="org-thumbnails-are-blurry-or-corrupted" class="org-section org-level-2">
<h2>⚠️ Thumbnails Are Blurry or Corrupted</h2>
<ol>
<li><p><strong>Clear the cache:</strong></p>
</li>
<li><p><strong>Check if ImageMagick is installed:</strong></p>
</li>
<li><p><strong>Verify the original image isn&#39;t corrupted:</strong></p>
</li>
</ol>

</div>
<div id="org-remote-images-don-t-show" class="org-section org-level-2">
<h2>⚠️ Remote Images Don&#39;t Show</h2>
<p>Remote HTTP/HTTPS images are <strong>not displayed</strong> as overlays by design. Only local files are supported for security and performance reasons.</p>

<p>To display remote images:</p>

<ol>
<li><p>Download them locally</p>
</li>
<li><p>Reference the local copy in your org file</p>
</li>
</ol>

</div>
<div id="org-relative-paths-not-resolving" class="org-section org-level-2">
<h2>⚠️ Relative Paths Not Resolving</h2>
<p>If relative paths aren&#39;t working:</p>

<ol>
<li><p><strong>Use ./ prefix for clarity:</strong></p>
</li>
<li><p><strong>Check your working directory:</strong></p>
</li>
<li><p><strong>Use absolute paths as a workaround:</strong></p>
</li>
</ol>

</div>
<div id="org-hover-preview-not-working" class="org-section org-level-2">
<h2>⚠️ Hover Preview Not Working</h2>
<p>If hover previews aren&#39;t showing:</p>

<ol>
<li><p><strong>Check hover delay:</strong></p>
</li>
<li><p><strong>Verify hover provider is active:</strong></p>
</li>
<li><p><strong>Try a different image format:</strong></p>
</li>
</ol>

</div>
</div>
<div id="org-example-configuration" class="org-section org-level-1">
<h1>⚠️ Example Configuration</h1>
<div id="org-minimal-configuration" class="org-section org-level-2">
<h2>⚠️ Minimal Configuration</h2>
<p>For basic image overlay functionality:</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.enabled&quot;: true,
  &quot;scimax.imageOverlays.renderMode&quot;: &quot;gutter&quot;
}</code></pre>
</div>

</div>
<div id="org-power-user-configuration" class="org-section org-level-2">
<h2>⚠️ Power User Configuration</h2>
<p>For maximum visual feedback:</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.enabled&quot;: true,
  &quot;scimax.imageOverlays.maxWidth&quot;: 128,
  &quot;scimax.imageOverlays.maxHeight&quot;: 128,
  &quot;scimax.imageOverlays.renderMode&quot;: &quot;both&quot;,
  &quot;scimax.imageOverlays.onlyWhenCursorNotInLink&quot;: true,
  &quot;scimax.imageOverlays.showDimensions&quot;: true,
  &quot;scimax.imageOverlays.maxOverlaysPerDocument&quot;: 500,
  &quot;scimax.imageOverlays.cacheEnabled&quot;: true
}</code></pre>
</div>

</div>
<div id="org-performance-focused-configuration" class="org-section org-level-2">
<h2>⚠️ Performance-Focused Configuration</h2>
<p>For large documents with many images:</p>

<div class="org-src-container">
<pre class="src src-json"><code class="language-json">{
  &quot;scimax.imageOverlays.enabled&quot;: true,
  &quot;scimax.imageOverlays.maxWidth&quot;: 64,
  &quot;scimax.imageOverlays.maxHeight&quot;: 64,
  &quot;scimax.imageOverlays.renderMode&quot;: &quot;gutter&quot;,
  &quot;scimax.imageOverlays.onlyWhenCursorNotInLink&quot;: true,
  &quot;scimax.imageOverlays.showDimensions&quot;: false,
  &quot;scimax.imageOverlays.maxOverlaysPerDocument&quot;: 100,
  &quot;scimax.imageOverlays.cacheEnabled&quot;: true,
  &quot;scimax.imageOverlays.excludePatterns&quot;: [&quot;archive/&quot;, &quot;\\.tmp/&quot;]
}</code></pre>
</div>

</div>
</div>
<div id="org-complete-example" class="org-section org-level-1">
<h1>⚠️ Complete Example</h1>
<p>Here&#39;s a complete example showing various image link formats:</p>

<div class="org-src-container">
<pre class="src src-org"><code class="language-org">,* My Research Notes

,** Experimental Results

The experiment produced the following results:

,#+CAPTION: Sine wave plot
,#+NAME: fig:sine
,#+ATTR_ORG: :width 400
[[file:./plots/sine-wave.png]]

As shown in Figure [[fig:sine]], the sine wave exhibits periodic behavior.

,** Data Visualization

,#+BEGIN_SRC jupyter-python :session analysis
import matplotlib.pyplot as plt
import numpy as np

x = np.linspace(0, 2*np.pi, 100)
y = np.sin(x)

plt.figure(figsize=(10, 6))
plt.plot(x, y)
plt.title(&#39;Sine Wave&#39;)
plt.xlabel(&#39;x&#39;)
plt.ylabel(&#39;sin(x)&#39;)
plt.grid(True)
plt.show()
,#+END_SRC

,#+RESULTS:
[[file:.ob-jupyter/output-1705171200000-0.png]]

,** Screenshots

Here are some screenshots from the application:

[[./screenshots/main-window.png][Main Window]]
[[./screenshots/settings-dialog.png][Settings Dialog]]
[[./screenshots/export-preview.png][Export Preview]]

,** External Resources

Note: Remote images don&#39;t show overlays but are clickable:

[[https://example.com/logo.png][Company Logo]]</code></pre>
</div>

</div>
<div id="org-see-also" class="org-section org-level-1">
<h1>⚠️ See Also</h1>
<ul>
<li><p><a href="05-links.html">Links</a> - General link syntax and functionality</p>
</li>
<li><p><a href="07-source-blocks.html">Source Blocks</a> - Executing code that generates images</p>
</li>
<li><p><a href="09-jupyter.html">Jupyter Integration</a> - Working with Jupyter kernels</p>
</li>
<li><p><a href="10-export.html">Export</a> - Exporting documents with images</p>
</li>
<li><p><a href="26-configuration.html">Configuration</a> - Full configuration reference</p>
</li>
</ul>

</div>
<div id="org-technical-details" class="org-section org-level-1">
<h1>⚠️ Technical Details</h1>
<div id="org-thumbnail-generation" class="org-section org-level-2">
<h2>⚠️ Thumbnail Generation</h2>
<p>Thumbnails are generated using:</p>

<ol>
<li><p><strong>ImageMagick</strong> (convert command) - Preferred, works on all platforms</p>
</li>
<li><p><strong>macOS sips</strong> - Native macOS tool, used as fallback on Mac</p>
</li>
<li><p><strong>Direct copy</strong> - If no tools available, original images are used</p>
</li>
</ol>

<p>Thumbnails are cached in the extension&#39;s global storage directory with filenames based on:</p>

<ul>
<li><p>MD5 hash of the original image path</p>
</li>
<li><p>Configured thumbnail dimensions</p>
</li>
<li><p>Original file extension</p>
</li>
</ul>

</div>
<div id="org-cache-location" class="org-section org-level-2">
<h2>⚠️ Cache Location</h2>
<p>Thumbnails are stored in:</p>

<ul>
<li><p><strong>Linux:</strong> ~/.config/Code/User/globalStorage/scimax-vscode<em>image-overlay-cache</em></p>
</li>
<li><p><strong>macOS:</strong> ~/Library/Application Support/Code/User/globalStorage/scimax-vscode<em>image-overlay-cache</em></p>
</li>
<li><p><strong>Windows:</strong> %APPDATA%\Code\User\globalStorage\scimax-vscode\image-overlay-cache\</p>
</li>
</ul>

</div>
<div id="org-performance-considerations" class="org-section org-level-2">
<h2>⚠️ Performance Considerations</h2>
<ul>
<li><p>Thumbnail generation is asynchronous and doesn&#39;t block the editor</p>
</li>
<li><p>The cache prevents regenerating thumbnails on each file open</p>
</li>
<li><p>The maxOverlaysPerDocument setting prevents memory issues with large documents</p>
</li>
<li><p>Overlays are debounced during typing to avoid excessive updates</p>
</li>
<li><p>Gutter mode is more performant than after/both modes</p>
</li>
</ul>

</div>
<div id="org-vs-code-limitations" class="org-section org-level-2">
<h2>⚠️ VS Code Limitations</h2>
<p>Unlike Emacs, VS Code cannot:</p>

<ul>
<li><p>Display arbitrary-sized inline images in the editor</p>
</li>
<li><p>Replace link text with actual image content</p>
</li>
<li><p>Provide true &quot;overlay&quot; functionality at the text level</p>
</li>
</ul>

<p>The implementation uses VS Code&#39;s decoration API with gutter icons as the closest approximation to Emacs overlays.</p>

</div>
</div>
<div id="org-navigation" class="org-section org-level-1">
<h1>Navigation</h1>
<ul>
<li><p>Previous: <a href="11-latex-preview.html">LaTeX Preview</a></p>
</li>
<li><p>Index: <a href="00-index.html">Documentation Index</a></p>
</li>
<li><p>Next: <a href="13-agenda.html">Agenda</a></p>
</li>
</ul>

</div>
            </article>
            <nav class="page-nav">

            <a href="11-latex-preview.html" class="nav-prev">
                <span class="nav-label">Previous</span>
                <span class="nav-title">← Previous</span>
            </a>
        

            <a href="18-database-search.html" class="nav-next">
                <span class="nav-label">Next</span>
                <span class="nav-title">Next →</span>
            </a>
        
</nav>
            <footer class="site-footer">
<div class="footer-content">
<nav class="footer-links">
<ul>

                <li>
                    <a href="https://github.com/jkitchin/scimax-vscode/blob/main/LICENSE" target="_blank" rel="noopener">License</a>
                </li>
            
</ul>
</nav>

            <p class="copyright">
                &copy; 2024-2026 John Kitchin
            </p>
        

        <p class="powered-by">
            Built with <a href="https://github.com/jkitchin/scimax-vscode" target="_blank" rel="noopener">scimax-vscode</a>
        </p>
    
</div>
</footer>
        </main>

        
        <aside class="sidebar-right" id="sidebar-right">
            <nav class="page-toc">
<h4 class="toc-title">On this page</h4>
<ul class="toc-list">
<ul class="toc-sublist">

            <li class="toc-item level-1">
                <a href="#introduction" class="toc-link">✅ Introduction</a>
            </li>
        
<ul class="toc-sublist">

            <li class="toc-item level-2">
                <a href="#how-image-overlays-work" class="toc-link">✅ How Image Overlays Work</a>
            </li>
        
</ul></li>

            <li class="toc-item level-1">
                <a href="#supported-image-formats" class="toc-link">✅ Supported Image Formats</a>
            </li>
        

            <li class="toc-item level-1">
                <a href="#image-link-syntax" class="toc-link">✅ Image Link Syntax</a>
            </li>
        
<ul class="toc-sublist">

            <li class="toc-item level-2">
                <a href="#basic-image-links" class="toc-link">✅ Basic Image Links</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#file-protocol-links" class="toc-link">✅ File Protocol Links</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#links-with-descriptions" class="toc-link">⚠️ Links with Descriptions</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#absolute-vs-relative-paths" class="toc-link">⚠️ Absolute vs Relative Paths</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#remote-images" class="toc-link">⚠️ Remote Images</a>
            </li>
        
</ul></li>

            <li class="toc-item level-1">
                <a href="#image-sizing-and-attributes" class="toc-link">⚠️ Image Sizing and Attributes</a>
            </li>
        
<ul class="toc-sublist">

            <li class="toc-item level-2">
                <a href="#attr_org-keyword" class="toc-link">⚠️ ATTR_ORG Keyword</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#supported-attributes" class="toc-link">⚠️ Supported Attributes</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#export-specific-attributes" class="toc-link">⚠️ Export-Specific Attributes</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#adding-captions" class="toc-link">⚠️ Adding Captions</a>
            </li>
        
</ul></li>

            <li class="toc-item level-1">
                <a href="#enabling-and-disabling-image-display" class="toc-link">⚠️ Enabling and Disabling Image Display</a>
            </li>
        
<ul class="toc-sublist">

            <li class="toc-item level-2">
                <a href="#global-toggle" class="toc-link">⚠️ Global Toggle</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#per-file-toggle" class="toc-link">⚠️ Per-File Toggle</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#via-configuration" class="toc-link">⚠️ Via Configuration</a>
            </li>
        
</ul></li>

            <li class="toc-item level-1">
                <a href="#configuration-settings" class="toc-link">⚠️ Configuration Settings</a>
            </li>
        
<ul class="toc-sublist">

            <li class="toc-item level-2">
                <a href="#scimaximageoverlaysenabled" class="toc-link">⚠️ scimax.imageOverlays.enabled</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimaximageoverlaysmaxwidth" class="toc-link">⚠️ scimax.imageOverlays.maxWidth</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimaximageoverlaysmaxheight" class="toc-link">⚠️ scimax.imageOverlays.maxHeight</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimaximageoverlaysrendermode" class="toc-link">⚠️ scimax.imageOverlays.renderMode</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimaximageoverlaysonlywhencursornotinlink" class="toc-link">⚠️ scimax.imageOverlays.onlyWhenCursorNotInLink</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimaximageoverlaysexcludepatterns" class="toc-link">⚠️ scimax.imageOverlays.excludePatterns</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimaximageoverlaysmaxoverlaysperdocument" class="toc-link">⚠️ scimax.imageOverlays.maxOverlaysPerDocument</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimaximageoverlaysshowdimensions" class="toc-link">⚠️ scimax.imageOverlays.showDimensions</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimaximageoverlayscacheenabled" class="toc-link">⚠️ scimax.imageOverlays.cacheEnabled</a>
            </li>
        
</ul></li>

            <li class="toc-item level-1">
                <a href="#images-from-source-block-results" class="toc-link">⚠️ Images from Source Block Results</a>
            </li>
        
<ul class="toc-sublist">

            <li class="toc-item level-2">
                <a href="#automatic-image-display" class="toc-link">⚠️ Automatic Image Display</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#jupyter-kernel-output" class="toc-link">⚠️ Jupyter Kernel Output</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#r-and-other-languages" class="toc-link">⚠️ R and Other Languages</a>
            </li>
        
</ul></li>

            <li class="toc-item level-1">
                <a href="#available-commands" class="toc-link">⚠️ Available Commands</a>
            </li>
        
<ul class="toc-sublist">

            <li class="toc-item level-2">
                <a href="#scimax-toggle-image-overlays" class="toc-link">⚠️ Scimax: Toggle Image Overlays</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimax-toggle-image-overlays-for-current-file" class="toc-link">⚠️ Scimax: Toggle Image Overlays for Current File</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimax-refresh-image-overlays" class="toc-link">⚠️ Scimax: Refresh Image Overlays</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimax-clear-image-overlay-cache" class="toc-link">⚠️ Scimax: Clear Image Overlay Cache</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#scimax-show-image-overlay-cache-statistics" class="toc-link">⚠️ Scimax: Show Image Overlay Cache Statistics</a>
            </li>
        
</ul></li>

            <li class="toc-item level-1">
                <a href="#troubleshooting-image-display" class="toc-link">⚠️ Troubleshooting Image Display</a>
            </li>
        
<ul class="toc-sublist">

            <li class="toc-item level-2">
                <a href="#images-not-showing" class="toc-link">⚠️ Images Not Showing</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#overlays-disappear-when-editing" class="toc-link">⚠️ Overlays Disappear When Editing</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#performance-issues" class="toc-link">⚠️ Performance Issues</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#thumbnails-are-blurry-or-corrupted" class="toc-link">⚠️ Thumbnails Are Blurry or Corrupted</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#remote-images-dont-show" class="toc-link">⚠️ Remote Images Don't Show</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#relative-paths-not-resolving" class="toc-link">⚠️ Relative Paths Not Resolving</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#hover-preview-not-working" class="toc-link">⚠️ Hover Preview Not Working</a>
            </li>
        
</ul></li>

            <li class="toc-item level-1">
                <a href="#example-configuration" class="toc-link">⚠️ Example Configuration</a>
            </li>
        
<ul class="toc-sublist">

            <li class="toc-item level-2">
                <a href="#minimal-configuration" class="toc-link">⚠️ Minimal Configuration</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#power-user-configuration" class="toc-link">⚠️ Power User Configuration</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#performance-focused-configuration" class="toc-link">⚠️ Performance-Focused Configuration</a>
            </li>
        
</ul></li>

            <li class="toc-item level-1">
                <a href="#complete-example" class="toc-link">⚠️ Complete Example</a>
            </li>
        

            <li class="toc-item level-1">
                <a href="#see-also" class="toc-link">⚠️ See Also</a>
            </li>
        

            <li class="toc-item level-1">
                <a href="#technical-details" class="toc-link">⚠️ Technical Details</a>
            </li>
        
<ul class="toc-sublist">

            <li class="toc-item level-2">
                <a href="#thumbnail-generation" class="toc-link">⚠️ Thumbnail Generation</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#cache-location" class="toc-link">⚠️ Cache Location</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#performance-considerations" class="toc-link">⚠️ Performance Considerations</a>
            </li>
        

            <li class="toc-item level-2">
                <a href="#vs-code-limitations" class="toc-link">⚠️ VS Code Limitations</a>
            </li>
        
</ul></li>

            <li class="toc-item level-1">
                <a href="#navigation" class="toc-link">Navigation</a>
            </li>
        
</ul>
</nav>
        </aside>
        
    </div>

    <script src="./_static/book-theme.js"></script>
</body>
</html>