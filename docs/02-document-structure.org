#+TITLE: Document Structure
#+AUTHOR: Scimax VS Code Team
#+DATE: 2026-01-13
#+STARTUP: overview
#+OPTIONS: toc:2 num:t H:4
#+TODO: ‚ö†Ô∏è üëÄ | ‚úÖ

*Keybinding Note:* This extension uses Emacs-style keybindings where Ctrl is used on all platforms (not Cmd on Mac), except where explicitly noted. Mac alternatives are shown as Cmd where applicable.

* ‚úÖ Document Structure
CLOSED: [2026-01-15 Thu 14:25]

Org documents are structured around *headlines*, which create a hierarchical
outline that can be folded, navigated, and manipulated. This chapter covers how
to create and work with document structure in Scimax VS Code.

* ‚úÖ Headlines
CLOSED: [2026-01-15 Thu 14:25]

Headlines are the backbone of org documents. They define the structure and allow
for powerful outline-based navigation and organization.

** ‚úÖ Creating Headlines
CLOSED: [2026-01-15 Thu 14:25]

A headline starts with one or more asterisks (*) at the beginning of a line,
followed by a space:

#+BEGIN_SRC org
,* Top Level Headline
,** Second Level
,*** Third Level
,**** Fourth Level
#+END_SRC

There is no hard limit on headline levels, but most documents use 3-5 levels.

** ‚úÖ Headline Components
CLOSED: [2026-01-15 Thu 14:25]

A headline can contain several components:

#+BEGIN_SRC org
,* TODO [#A] Headline Title                                    :tag1:tag2:
#+END_SRC

| Component    | Description                      | Example       |
|--------------+----------------------------------+---------------|
| Stars        | Define the level (required)      | *, **, ***    |
| TODO keyword | Task state (optional)            | TODO, DONE    |
| Priority     | Importance marker (optional)     | [#A], [#B]    |
| Title        | The headline text (required)     | Any text      |
| Tags         | Categorization labels (optional) | :work:urgent: |

** ‚úÖ Headline Levels
CLOSED: [2026-01-15 Thu 14:26]

Headlines can be nested to any depth:

#+BEGIN_SRC org
,* Level 1: Main Section
,** Level 2: Subsection
,*** Level 3: Sub-subsection
,**** Level 4: Paragraph grouping
,***** Level 5: Fine detail
#+END_SRC

Use consistent levels throughout your document. Skipping levels (e.g., going
from * to ***) works but may cause confusion.

* ‚úÖ Visibility Cycling
CLOSED: [2026-01-15 Thu 14:26]

One of the most powerful features of org documents is the ability to fold
(collapse) and unfold (expand) sections to manage complexity.

** ‚úÖ Folding with Tab
CLOSED: [2026-01-15 Thu 14:26]

Press Tab on a headline to cycle through visibility states:

| State    | Shows                                    |
|----------+------------------------------------------|
| Folded   | Only the headline, children hidden       |
| Children | Headline and immediate child headlines   |
| Subtree  | All content under this headline          |

Example cycle:
1. * Heading... (folded - ellipsis shows hidden content)
2. * Heading with child headlines visible
3. * Heading with all content visible

** ‚úÖ Global Cycling with Shift-Tab
CLOSED: [2026-01-15 Thu 14:26]

Press S-<tab> anywhere in the document to cycle global visibility:

| State    | Shows                                    |
|----------+------------------------------------------|
| Overview | Only top-level headlines                 |
| Contents | All headlines at all levels              |
| Show All | Everything expanded                      |

** ‚úÖ Visibility Commands
CLOSED: [2026-01-15 Thu 14:26]

| Key       | Command                             |
|-----------+-------------------------------------|
| <tab>       | Cycle visibility at current heading |
| S-<tab> | Cycle global visibility             |

Additional visibility can be controlled through speed commands (see [[file:23-speed-commands.org][Speed Commands]]):

| Speed Key | Action              |
|-----------+---------------------|
| c         | Cycle visibility    |
| C   | Show children       |
| o         | Overview (fold all) |

* ‚úÖ Motion Between Headlines
CLOSED: [2026-01-15 Thu 14:27]

Efficient navigation between headlines is essential for working with large
documents.

** ‚úÖ Navigation Commands
CLOSED: [2026-01-15 Thu 14:27]

| Key                   | Command                         |
|-----------------------+---------------------------------|
| C-c C-j         | Jump to any heading (with menu) |
| Next/Previous heading | Built-in VS Code outline        |

** ‚úÖ Using the Outline View
CLOSED: [2026-01-15 Thu 14:27]

The VS Code Outline view provides visual navigation:

1. Open the Outline view (sidebar or Cmd/C-S-O)
2. Click any heading to jump to it
3. Use the filter box to search headings

** ‚úÖ Jump to Heading
CLOSED: [2026-01-15 Thu 14:27]

Press C-c C-j to open a quick-pick menu of all headings. Type to filter
and press Enter to jump.

** ‚úÖ Speed Command Navigation
CLOSED: [2026-01-15 Thu 14:27]

With speed commands enabled (scimax.speedCommands.enabled: true), when your
cursor is at the beginning of a headline, single keys navigate:

| Key | Action                               |
|-----+--------------------------------------|
| n   | Next heading (any level)             |
| p   | Previous heading (any level)         |
| f   | Next heading (same level - forward)  |
| b   | Previous heading (same level - back) |
| u   | Up to parent heading                 |
| j   | Jump to heading (opens menu)         |
| g   | Go to... (opens navigation menu)     |

* ‚úÖ Structure Editing
CLOSED: [2026-01-15 Thu 14:28]

Scimax VS Code provides commands to restructure your document without
manual cut-and-paste.

** ‚úÖ Promote/Demote Headlines
CLOSED: [2026-01-15 Thu 14:28]

Change the level of a headline:

| Key             | Command                          |
|-----------------+----------------------------------|
| M-<left>        | Promote heading (decrease level) |
| M-<right>       | Demote heading (increase level)  |
| M-S-Left  | Promote subtree                  |
| M-S-Right | Demote subtree                   |

*Promote* means moving toward the root (** -> *).
*Demote* means moving away from the root (* -> **).

*** ‚úÖ Single Heading vs Subtree
CLOSED: [2026-01-15 Thu 14:28]

- *Promote/Demote Heading*: Changes only the current headline's level
- *Promote/Demote Subtree*: Changes the headline AND all its children

Example - promoting a subtree:
#+BEGIN_SRC org
,** Parent                    * Parent
,*** Child 1          ->       ** Child 1
,*** Child 2                  ** Child 2
#+END_SRC

** ‚úÖ Move Subtrees Up/Down
CLOSED: [2026-01-17 Sat 13:39]

Reorder sections without changing their level:

| Key      | Command                              |
|----------+--------------------------------------|
| M-<up>   | Move subtree up (swap with previous) |
| M-<down> | Move subtree down (swap with next)   |

The entire subtree (heading and all its content/children) moves together.

** ‚úÖ Kill/Clone Subtrees
CLOSED: [2026-01-15 Thu 14:31]

| Command                 | Description                   |
|-------------------------+-------------------------------|
| scimax.org.killSubtree  | Cut the current subtree       |
| scimax.org.cloneSubtree | Duplicate the current subtree |

Speed command keys (at heading start):
| Key     | Action                    |
|---------+---------------------------|
| w       | Kill (cut) subtree        |
| W | Clone (duplicate) subtree |
| y       | Yank (paste) subtree      |

** ‚úÖ Insert New Headings
CLOSED: [2026-01-15 Thu 14:31]

| Key        | Command                      |
|------------+------------------------------|
| C-<return> | Insert heading at same level |

The command scimax.org.insertHeading inserts a new heading. The behavior
depends on context:

- On a heading line: Insert new heading at same level
- In body text: Insert new heading after current section

For subheadings:
| Command                     | Description                     |
|-----------------------------+---------------------------------|
| scimax.org.insertSubheading | Insert heading one level deeper |

* ‚úÖ Document Keywords
CLOSED: [2026-01-15 Thu 14:32]

Document keywords appear at the beginning of the file and configure
document-wide settings.

** ‚úÖ Common Keywords
CLOSED: [2026-01-15 Thu 14:32]

#+BEGIN_SRC org
,#+TITLE: Document Title
,#+AUTHOR: Author Name
,#+DATE: 2026-01-13
,#+EMAIL: author@example.com
#+END_SRC

** ‚úÖ Options Keyword
CLOSED: [2026-01-15 Thu 14:32]

The #+OPTIONS: keyword controls export and display behavior:

#+BEGIN_SRC org
,#+OPTIONS: toc:2 num:t H:4 ^:nil
#+END_SRC

| Option | Values         | Description                    |
|--------+----------------+--------------------------------|
| toc    | t, nil, number | Table of contents depth        |
| num    | t, nil         | Section numbering              |
| H      | number         | Headline levels for export     |
| ^      | t, nil, {}     | Subscript/superscript handling |
| author | t, nil         | Include author in export       |
| date   | t, nil         | Include date in export         |

** ‚ö†Ô∏è Startup Keyword

Control initial visibility:

#+BEGIN_SRC org
,#+STARTUP: overview    # Start with all headings folded
,#+STARTUP: content     # Show all headings, hide body
,#+STARTUP: showall     # Show everything
#+END_SRC

** ‚ö†Ô∏è Property Keyword

Set default properties for source blocks:

#+BEGIN_SRC org
,#+PROPERTY: header-args :exports both
,#+PROPERTY: header-args:python :session *python*
#+END_SRC

* ‚úÖ Properties Drawers
CLOSED: [2026-01-15 Thu 14:32]

Properties drawers store metadata about a headline in key-value pairs.

** ‚úÖ Creating Properties Drawers
CLOSED: [2026-01-15 Thu 14:32]

Properties appear in a :PROPERTIES: drawer immediately after the headline:

#+BEGIN_SRC org
,* My Headline
:PROPERTIES:
:CUSTOM_ID: my-headline
:CATEGORY: work
:EFFORT: 2:00
:END:
#+END_SRC

** ‚úÖ Special Properties
CLOSED: [2026-01-15 Thu 14:33]

Certain properties have special meaning:

| Property    | Description                              |
|-------------+------------------------------------------|
| ID         | Globally unique identifier (UUID)        |
| CUSTOM_ID  | Document-unique identifier for linking   |
| CATEGORY   | Category for agenda views                |
| EFFORT     | Estimated time (H:MM format)             |
| COLUMNS    | Column view format specification         |
| VISIBILITY | Initial visibility (folded, children, all)|

** ‚úÖ Adding Properties
CLOSED: [2026-01-15 Thu 14:33]

To add a property via speed commands, press P at a heading start.

You can also add properties manually by typing inside the drawer.

** ‚ö†Ô∏è Inherited Properties

Some properties are inherited by child headlines. The CATEGORY property, for
example, applies to all children unless overridden.

* ‚úÖ Drawers
CLOSED: [2026-01-17 Sat 13:40]

Drawers are collapsible sections that hide auxiliary information.

** ‚úÖ Standard Drawers
CLOSED: [2026-01-17 Sat 13:40]

*** ‚úÖ PROPERTIES Drawer
CLOSED: [2026-01-17 Sat 13:40]

Stores headline metadata (see above).

*** ‚úÖ LOGBOOK Drawer
CLOSED: [2026-01-17 Sat 13:40]

Stores clock entries and state change history:

#+BEGIN_SRC org
,* TODO My Task
:LOGBOOK:
CLOCK: [2026-01-13 Mon 09:00]--[2026-01-13 Mon 10:30] =>  1:30
- State "TODO"       from "WAITING"    [2026-01-12 Sun 14:00]
:END:
#+END_SRC

** ‚ö†Ô∏è Custom Drawers

Create custom drawers for any purpose:


:NOTES:
These are private notes that won't be exported.
- Reference: Smith et al. 2024
- Follow up with collaborator
:END:

:REFERENCES:    
cite:&kitchin-2018-machin-learn-catal
cite:&kitchin-2015-examp-effec
:END:


Drawer names must be uppercase letters and can contain numbers and underscores.

** ‚ö†Ô∏è Drawer Visibility

Drawers are typically displayed collapsed. Click or use fold commands to
expand/collapse them.

* ‚úÖ Inline Tasks
CLOSED: [2026-01-15 Thu 14:34]

Inline tasks are special headlines at a very deep level (default: 15 stars or
more) that are treated as inline content within a section rather than as
document structure.

** ‚úÖ Creating Inline Tasks
CLOSED: [2026-01-15 Thu 14:34]

An inline task uses many stars (15+) and has a matching END marker:

#+BEGIN_SRC org
,* Main Headline
Content of the headline.

,*************** TODO Quick inline task
This is an inline task that doesn't affect document structure.
It's useful for small, self-contained TODOs within prose.
,*************** END

More content continues here.
#+END_SRC

** ‚úÖ Inline Task Features
CLOSED: [2026-01-15 Thu 14:34]

Inline tasks support the same features as regular headlines:

| Feature     | Example                                      |
|-------------+----------------------------------------------|
| TODO state  | *************** TODO Task                   |
| Priority    | *************** [#A] High priority          |
| Tags        | *************** Task :urgent:work:          |
| Body text   | Content between task and END                 |

** ‚úÖ When to Use Inline Tasks
CLOSED: [2026-01-15 Thu 14:35]

- Quick TODOs embedded in documentation
- Small tasks that don't warrant their own section
- Notes or reminders within prose
- Tasks that shouldn't appear in document outline

** ‚úÖ Configuration
CLOSED: [2026-01-15 Thu 14:35]

The minimum headline level for inline tasks is configurable. By default,
headlines with 15 or more stars are treated as inline tasks.

* ‚úÖ Footnote Definitions
CLOSED: [2026-01-15 Thu 14:35]

Footnotes allow you to add supplementary information without interrupting
the main text flow.

** ‚úÖ Footnote Definition Syntax
CLOSED: [2026-01-15 Thu 14:35]

Footnotes are defined with [fn:LABEL] at the start of a line:

#+BEGIN_SRC org
This paragraph has a footnote reference[fn:1].

[fn:1] This is the footnote content. It can span
  multiple lines if subsequent lines are indented.

Another paragraph continues here.
#+END_SRC

** ‚úÖ Footnote Labels
CLOSED: [2026-01-15 Thu 14:35]

Footnotes can use numeric or named labels:

#+BEGIN_SRC org
See the paper for details[fn:1].
This is a key concept[fn:important-note].

[fn:1] Smith et al., 2024.
[fn:important-note] A named footnote for easy reference.
#+END_SRC

** ‚úÖ Multi-line Footnotes
CLOSED: [2026-01-15 Thu 14:35]

Footnote definitions can span multiple lines with indentation:

#+BEGIN_SRC org
[fn:long-note] This is a longer footnote that spans
  multiple lines. All continuation lines must be
  indented to be included in the footnote.

  You can even have multiple paragraphs by leaving
  a blank line with proper indentation.
#+END_SRC

** ‚úÖ Inline Footnotes
CLOSED: [2026-01-15 Thu 14:35]

For short footnotes, use inline syntax:

#+BEGIN_SRC org
This has an inline footnote[fn:: This is the definition].
#+END_SRC

** ‚úÖ Related Topics
CLOSED: [2026-01-15 Thu 14:35]

See [[file:05-links.org][Links]] for information on footnote references.

* ‚úÖ Dynamic Blocks
CLOSED: [2026-01-15 Thu 14:35]

Dynamic blocks are special regions whose content is generated programmatically.
They are defined with #+BEGIN: and #+END: markers.

** ‚úÖ Dynamic Block Syntax
CLOSED: [2026-01-15 Thu 14:35]

#+BEGIN_SRC org
,#+BEGIN: block-name parameters
Content that will be replaced when block is updated.
,#+END:
#+END_SRC

** ‚úÖ Clock Table Example
CLOSED: [2026-01-15 Thu 14:35]

The most common dynamic block is the clock table, which summarizes time spent:

#+BEGIN_SRC org
,#+BEGIN: clocktable :maxlevel 2 :scope file
| Headline          | Time   |
|-------------------+--------|
| * Project work    |  10:30 |
| ** Implementation |   6:00 |
| ** Testing        |   4:30 |
,#+END:
#+END_SRC

** ‚ö†Ô∏è Column View Example

Column view displays properties in a table format:


#+BEGIN: columnview :hlines 1 
| ITEM   | EFFORT | PRIORITY |
|--------+--------+----------|
| Task 1 | 2:00   | A        |
| Task 2 | 1:30   | B        |
#+END:


** ‚ö†Ô∏è Dynamic Block Parameters

Common parameters for clock tables:

| Parameter | Description                        | Example         |
|-----------+------------------------------------+-----------------|
| :maxlevel | Maximum headline depth             | :maxlevel 3     |
| :scope    | Scope of clock data                | :scope file     |
| :tstart   | Start time for report              | :tstart "<-1w>" |
| :tend     | End time for report                | :tend "<now>"   |
| :block    | Time block (today, thisweek, etc.) | :block thisweek |

** ‚ö†Ô∏è Updating Dynamic Blocks

Dynamic blocks are updated when explicitly requested. The content between
#+BEGIN: and #+END: is regenerated based on the block type and parameters.

* ‚úÖ Best Practices
CLOSED: [2026-01-15 Thu 14:38]

** ‚úÖ Document Organization
CLOSED: [2026-01-15 Thu 14:38]

1. *Start with an outline* - Create your heading structure before adding content
2. *Use consistent levels* - Don't skip levels arbitrarily
3. *Keep headings concise* - Use brief, descriptive titles
4. *Use tags for cross-cutting concerns* - Don't rely solely on hierarchy

** ‚úÖ Heading Depth Guidelines
CLOSED: [2026-01-15 Thu 14:38]

| Level | Typical Use                              |
|-------+------------------------------------------|
| 1     | Major sections/chapters                  |
| 2     | Subsections                              |
| 3     | Topics within subsections                |
| 4     | Detailed points                          |
| 5+    | Rarely needed; consider restructuring    |

** ‚úÖ Navigation Efficiency
CLOSED: [2026-01-15 Thu 14:38]

1. *Use C-c C-j* for direct jumps to any heading
2. *Use outline view* for visual navigation in long documents
3. *Enable speed commands* for rapid single-key navigation
4. *Use S-<tab>* to get an overview before diving in

* ‚úÖ Related Topics
CLOSED: [2026-01-15 Thu 14:38]

- [[file:03-todo-items.org][TODO Items]] - Task states and priorities in headlines
- [[file:06-timestamps.org][Timestamps]] - Adding dates to headlines
- [[file:05-links.org][Links]] - Linking to headlines
- [[file:23-speed-commands.org][Speed Commands]] - Single-key commands at headlines
- [[file:10-export.org][Export]] - How structure affects exported documents

* Navigation

- Previous: [[file:01.5-basic-syntax.org][Basic Syntax]]
- Index: [[file:00-index.org][Documentation Index]]
- Next: [[file:03-todo-items.org][TODO Items]]
